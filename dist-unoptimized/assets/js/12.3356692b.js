(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"2tkJ":function(e,t,a){},"3lNT":function(e,t,a){},O0nV:function(e,t,a){"use strict";a.r(t);var n=a("gcR/"),r=a.n(n),c=a("q1tI"),i=a.n(c),o=a("RIqP"),s=a.n(o),l=a("lSNA"),u=a.n(l),d=a("J4zp"),v=a.n(d),m=a("WlAH"),f=a("qKAQ"),p=a("nLo0"),b=a("epXp"),g=a("4Cfr"),h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(c.useCallback)((function(a){if(t){var n=a.key,r=a.ctrlKey,c=a.metaKey,i=a.shiftKey,o=a.altKey,s=r||c;Object.entries(e).forEach((function(e){var t=v()(e,2),r=t[0],c=t[1],l=r.toLowerCase().split("+"),u=l.includes("ctrl")||l.includes("cmd"),d=l.includes("shift"),m=l.includes("alt"),f=l[l.length-1];n.toLowerCase()===f&&(u?s:!s)&&(d?i:!i)&&(m?o:!o)&&(a.preventDefault(),c(a))}))}}),[e,t]);Object(c.useEffect)((function(){if(t)return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}),[a,t])},y="typeracer-highscores",N=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var a=localStorage.getItem(e);return null!==a?JSON.parse(a):t}catch(n){return t}}(y,{EASY:0,MEDIUM:0,HARD:0,EXPERT:0})},O=function(e){!function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(a){return!1}}(y,e)},j=a("tRzG"),C=a("pVnL"),k=a.n(C),w=a("QILm"),E=a.n(w),M=(a("nmdj"),["children","onClick","variant","size","disabled","className","type","title"]),S=Object(c.memo)((function(e){var t=e.children,a=e.onClick,n=e.variant,r=void 0===n?"primary":n,c=e.size,o=void 0===c?"medium":c,s=e.disabled,l=void 0!==s&&s,u=e.className,d=void 0===u?"":u,v=e.type,m=void 0===v?"button":v,f=e.title,p=E()(e,M),b="btn btn--".concat(r," btn--").concat(o," ").concat(d).trim();return i.a.createElement("button",k()({type:m,className:b,onClick:a,disabled:l,title:f},p),t)}));S.displayName="Button";var T=S,R=(a("ixHa"),["children","variant","className","as"]),D=Object(c.memo)((function(e){var t=e.children,a=e.variant,n=void 0===a?"body":a,r=e.className,c=void 0===r?"":r,o=e.as,s=void 0===o?"span":o,l=E()(e,R),u="text text--".concat(n," ").concat(c).trim();return i.a.createElement(s,k()({className:u},l),t)}));D.displayName="Text";var I=D,_=(a("fX95"),["label","value","icon","variant","className"]),P=Object(c.memo)((function(e){var t=e.label,a=e.value,n=e.icon,c=e.variant,o=void 0===c?"default":c,s=e.className,l=void 0===s?"":s,u=E()(e,_),d="stat-card stat-card--".concat(o," ").concat(l).trim();return i.a.createElement("div",k()({className:d},u),n&&r()("span",{className:"stat-card__icon"},void 0,n),r()("div",{className:"stat-card__content"},void 0,r()(I,{variant:"label",className:"stat-card__label"},void 0,t),r()(I,{variant:"h2",className:"stat-card__value"},void 0,a)))}));P.displayName="StatCard";var x=P,L=(a("2tkJ"),["progress","showLabel","variant","className"]),A=Object(c.memo)((function(e){var t=e.progress,a=void 0===t?0:t,n=e.showLabel,o=void 0===n||n,s=e.variant,l=void 0===s?"default":s,u=e.className,d=void 0===u?"":u,v=E()(e,L),m="progress-bar progress-bar--".concat(l," ").concat(d).trim(),f=Object(c.useMemo)((function(){return Math.min(100,Math.max(0,Math.round(a)))}),[a]),p=Object(c.useMemo)((function(){return{width:"".concat(f,"%")}}),[f]);return i.a.createElement("div",k()({className:m},v),o&&r()("div",{className:"progress-bar__label"},void 0,"Progress: ",f,"%"),r()("div",{className:"progress-bar__track"},void 0,r()("div",{className:"progress-bar__fill",style:p})))}));A.displayName="ProgressBar";var H=A,J=(a("WgBK"),["char","status","isCursor","className"]),K=Object(c.memo)((function(e){var t=e.char,a=e.status,n=void 0===a?"pending":a,r=e.isCursor,c=void 0!==r&&r,o=e.className,s=void 0===o?"":o,l=E()(e,J),u="character character--".concat(n," ").concat(c?"character--cursor":""," ").concat(s).trim();return i.a.createElement("span",k()({className:u},l),t)}));K.displayName="Character";var G=K,z=(a("3lNT"),["targetText","userInput","onInputChange","inputRef","disabled","className"]),W=Object(c.memo)((function(e){var t=e.targetText,a=e.userInput,n=e.onInputChange,o=e.inputRef,s=e.disabled,l=void 0!==s&&s,u=e.className,d=void 0===u?"":u,v=E()(e,z),m=Object(c.useCallback)((function(e){n(e.target.value)}),[n]),f=Object(c.useMemo)((function(){return t.split("").map((function(e,n){return{char:e,status:Object(j.e)(a,t,n),isCursor:n===a.length}}))}),[t,a]);return i.a.createElement("div",k()({className:"game-area ".concat(d).trim()},v),r()("div",{className:"game-area__content"},void 0,f.map((function(e,t){return r()(G,{char:e.char,status:e.status,isCursor:e.isCursor},t)}))),i.a.createElement("input",{ref:o,type:"text",value:a,onChange:m,disabled:l,className:"game-area__input",placeholder:"Start typing to begin...",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}))}));W.displayName="GameArea";var X,B,q,F,U,Q=W;a("Rym/");function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z,$=function(){var e=Object(c.useState)("MEDIUM"),t=v()(e,2),a=t[0],n=t[1],o=Object(g.b)("typeracer-darkmode",!1),l=v()(o,2),d=l[0],y=l[1],C=Object(g.b)("typeracer-sound",!0),k=v()(C,2),w=k[0],E=k[1],M=Object(g.a)("typeracer-highscores",{EASY:0,MEDIUM:0,HARD:0,EXPERT:0}),S=v()(M,2),R=S[0],D=S[1],_=Object(c.useState)(!1),P=v()(_,2),L=P[0],A=P[1],J=Object(c.useMemo)((function(){return m.c[a]}),[a]),K=Object(c.useMemo)((function(){return m.a[a]}),[a]),G=Object(p.a)(J),z=(G.gameStatus,G.userInput),W=G.stats,V=G.streak,Z=G.maxStreak,$=G.inputRef,ee=G.startGame,te=G.handleInputChange,ae=G.finishGame,ne=G.resetGame,re=G.restartGame,ce=G.isPlaying,ie=G.isFinished,oe=G.isInitial,se=Object(f.a)({allowedTime:K.time,onFinish:ae}),le=se.timeLeft,ue=se.startTimer,de=se.resetTimer,ve=Object(b.a)(w);Object(c.useEffect)((function(){document.body.classList.toggle("dark-mode",d)}),[d]),Object(c.useEffect)((function(){ce&&le===K.time&&ue()}),[ce,le,K.time,ue]),Object(c.useEffect)((function(){W.isComplete&&ce&&(ae(),ve.playComplete(),A(!0),function(e,t){var a=N(),n=t>a[e];return n&&(a[e]=t,O(a)),n}(a,W.wpm)&&D((function(e){return Y(Y({},e),{},u()({},a,W.wpm))})),setTimeout((function(){return A(!1)}),5e3))}),[W.isComplete,W.wpm,ce,a,ae,ve,D]);var me=Object(c.useCallback)((function(e){if(oe&&e.length>0&&ee(),e.length>z.length){var t=e.length-1;Object(j.f)(e,J,t)?ve.playCorrect():ve.playIncorrect()}te(e)}),[oe,z,J,ee,te,ve]),fe=Object(c.useCallback)((function(e){n(e),ne(),de()}),[ne,de]),pe=Object(c.useCallback)((function(){re(),de(),A(!1)}),[re,de]);return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={"ctrl+r":e.onRestart,"ctrl+d":e.onToggleDarkMode,"ctrl+m":e.onToggleSound};h(a,t)}({onRestart:pe,onToggleDarkMode:function(){return y((function(e){return!e}))},onToggleSound:function(){return E((function(e){return!e}))}},!ie),r()("div",{className:"typeracer-app"},void 0,L&&r()("div",{className:"confetti-container"},void 0,s()(Array(50)).map((function(e,t){return r()("div",{className:"confetti",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(3*Math.random(),"s"),backgroundColor:"hsl(".concat(360*Math.random(),", 70%, 60%)")}},t)}))),r()("div",{className:"settings-bar"},void 0,r()(T,{variant:"icon",onClick:function(){return y((function(e){return!e}))},title:"Toggle Dark Mode (Ctrl+D)"},void 0,d?"\u2600\ufe0f":"\ud83c\udf19"),r()(T,{variant:"icon",onClick:function(){return E((function(e){return!e}))},title:"Toggle Sound (Ctrl+M)"},void 0,w?"\ud83d\udd0a":"\ud83d\udd07"),X||(X=r()(I,{variant:"small",className:"keyboard-shortcuts"},void 0,"\u2328\ufe0f Ctrl+R: Restart | Ctrl+D: Dark Mode | Ctrl+M: Sound"))),B||(B=r()("header",{className:"header"},void 0,r()(I,{variant:"h1",as:"h1"},void 0,"TypeRacer Pro"),r()(I,{variant:"body"},void 0,"Test your typing speed and accuracy!"))),oe&&r()("div",{className:"difficulty-selector"},void 0,q||(q=r()(I,{variant:"h3",as:"h3"},void 0,"Select Difficulty")),r()("div",{className:"difficulty-grid"},void 0,Object.entries(m.a).map((function(e){var t=v()(e,2),n=t[0],c=t[1];return r()(T,{variant:"difficulty",className:a===n?"active":"",onClick:function(){return fe(n)}},n,r()(I,{variant:"h3",as:"span"},void 0,c.name),r()(I,{variant:"small"},void 0,c.description),r()(I,{variant:"small"},void 0,"\u23f1\ufe0f ",c.time,"s"))})))),(ce||ie)&&i.a.createElement(i.a.Fragment,null,r()("div",{className:"stats-bar"},void 0,r()(x,{label:"Time Left",value:"".concat(le,"s"),icon:"\u23f1\ufe0f"}),r()(x,{label:"WPM",value:W.wpm,icon:"\u26a1",variant:"highlight"}),r()(x,{label:"Accuracy",value:"".concat(W.accuracy,"%"),icon:"\ud83c\udfaf"}),r()(x,{label:"Streak",value:"".concat(V," \ud83d\udd25"),icon:"\ud83d\udd25",variant:"success"})),r()(H,{progress:W.progress})),!ie&&r()(Q,{targetText:J,userInput:z,onInputChange:me,inputRef:$,disabled:ie}),ie&&r()("div",{className:"results"},void 0,F||(F=r()(I,{variant:"h2",as:"h2"},void 0,"\ud83c\udf89 Results")),r()("div",{className:"results-grid"},void 0,r()(x,{label:"WPM",value:W.wpm,icon:"\u26a1",variant:"highlight"}),r()(x,{label:"Accuracy",value:"".concat(W.accuracy,"%"),icon:"\ud83c\udfaf"}),r()(x,{label:"Max Streak",value:Z,icon:"\ud83d\udd25",variant:"success"}),r()(x,{label:"High Score",value:R[a],icon:"\ud83c\udfc6"})),W.wpm>R[a]&&(U||(U=r()("div",{className:"new-record"},void 0,r()(I,{variant:"h3"},void 0,"\ud83c\udf8a New High Score! \ud83c\udf8a")))),r()("div",{className:"results-actions"},void 0,r()(T,{variant:"primary",onClick:pe},void 0,"Try Again"),r()(T,{variant:"secondary",onClick:function(){var e=Object.keys(m.a),t=e.indexOf(a),n=e[(t+1)%e.length];fe(n)}},void 0,"Next Level"))),ce&&r()("div",{className:"game-actions"},void 0,r()(T,{variant:"secondary",onClick:pe},void 0,"Restart (Ctrl+R)")))};t.default=function(){return Z||(Z=r()("div",{className:"typeracer-page"},void 0,r()($,{})))}},"Rym/":function(e,t,a){},WgBK:function(e,t,a){},fX95:function(e,t,a){},ixHa:function(e,t,a){},nmdj:function(e,t,a){}}]);